{"version":3,"file":"index.modern.js","sources":["../src/components/Page.js","../src/components/PageCover.js","../src/components/FlipPages.js","../src/components/ActionsMenu.js","../src/utils/responsiveSlider.js","../src/utils/services.js","../src/components/Loading.js","../src/components/Magazine.js","../src/index.js"],"sourcesContent":["import React from 'react';\r\n\r\nimport styles from \"../styles/page.module.css\"\r\n\r\nconst Page = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div className={styles[\"page\"]} ref={ref}>\r\n            <div className={styles[\"page-content\"]}>\r\n                <div className={styles[\"area-page\"]}>{props.children}</div>                \r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default React.memo(Page);","import React from 'react';\r\n\r\nimport styles from \"../styles/pageCover.module.css\"\r\n\r\nconst PageCover = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div className={styles[\"page\"]} ref={ref} data-density=\"soft\">\r\n            <div className={styles[\"page-content\"]}>\r\n                {props.children}                \r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default PageCover;\r\n","import React, { useRef } from 'react'\r\nimport HTMLFlipBook from \"react-pageflip\";\r\nimport { useEffect } from 'react';\r\n\r\nimport PageCover from './PageCover';\r\n\r\nimport styles from \"../styles/flip-pages.module.css\";\r\nimport stylesCover from \"../styles/pageCover.module.css\";\r\nimport \"../styles/index.js\"\r\n\r\nfunction FlipPages(props) {\r\n\r\n  let flipBook = useRef(null);\r\n\r\n  const assigRef = (ref) => {\r\n    flipBook = ref;\r\n\r\n    if (flipBook) {\r\n      props.assigRef(flipBook)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!navigator.maxTouchPoints && props.page === 0) {\r\n      document.getElementById(\"container\").style.transform = \"translateX(-13.4%)\";\r\n    } else if (props.page === props.totalPage - 1) {\r\n      document.getElementById(\"container\").style.transform = \"translateX(13.4%)\";\r\n    } else {\r\n      document.getElementById(\"container\").style.transform = \"translateX(0%)\";\r\n    }\r\n  })\r\n\r\n  return (\r\n\r\n    <div id=\"container\" className={styles[\"container\"]}>\r\n      {\r\n        !navigator.maxTouchPoints && props.page !== 0 && <a onClick={props.prevButtonClick}><div className={styles[\"arrow-left\"]} /></a>\r\n      }\r\n      <HTMLFlipBook\r\n        width={props.size.width}\r\n        height={props.size.height}\r\n        showCover={true}\r\n        maxShadowOpacity={0.5}\r\n        swipeDistance={30}\r\n        onFlip={props.handleCarrousel}\r\n        useMouseEvents={true}\r\n        flipNext={{ corner: ['top', 'bottom'] }}\r\n        ref={assigRef}\r\n        mobileScrollSupport={true}>\r\n        <PageCover>\r\n          <div className={stylesCover[\"body-cover\"]}\r\n            style={{\r\n              backgroundImage: `url(${props.book[0]})`,\r\n            }} />\r\n        </PageCover>\r\n        {\r\n          props.flipbookPages.map(props.pagesFlipbook)\r\n        }\r\n        <PageCover>\r\n          <div className={stylesCover[\"body-cover\"]}\r\n            style={{\r\n              backgroundImage: `url(${props.book[props.book.length - 1]})`,\r\n            }} />\r\n        </PageCover>\r\n      </HTMLFlipBook>\r\n      {\r\n        !navigator.maxTouchPoints && props.page !== props.totalPage - 1 && <a onClick={props.nextButtonClick}><div className={styles[\"arrow-right\"]} /></a>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FlipPages\r\n","import React, { useState } from 'react'\r\nimport RangeSlider from 'react-bootstrap-range-slider'\r\n\r\nimport btnNext from \"btnNext.png\"\r\nimport btnPrev from \"btnPrevPage.png\"\r\nimport btnSearch from \"btnSearch.png\"\r\nimport fullscreen from \"btnFullscreen.png\"\r\n\r\nimport 'react-bootstrap-range-slider/dist/react-bootstrap-range-slider.css';\r\nimport styles from \"../styles/actions-menu.module.css\"\r\nimport \"../styles/actions-menu.module.css\"\r\n\r\nconst MAXSCALE = 5;\r\nconst MINSCALE = 1;\r\nconst SCALABILITY = 0.1;\r\n\r\nfunction ActionsMenu(props) {\r\n    const [value, setValue] = useState(1);\r\n    const [search, setSearch] = useState({});\r\n    let scalability_ = 1;\r\n    var _scrollTimeout = null;\r\n\r\n    var node;\r\n    var rotation = 0;\r\n    var posX = 0;\r\n    var posY = 0;\r\n\r\n    node = document.getElementById('container');\r\n\r\n    var render = () => {\r\n\r\n        window.requestAnimationFrame(() => {\r\n            var val = `translate3D(${posX}px, ${posY}px, 0px) rotate(${rotation}deg) scale(${value})`\r\n            document.getElementById('container').style.transform = val\r\n        })\r\n\r\n    }\r\n\r\n    const object = document.getElementsByClassName(\"bg-img-page\");\r\n    if (object.length > 0) {\r\n        for (const key in object) {\r\n            if (Object.hasOwnProperty.call(object, key)) {\r\n                const element = object[key];\r\n                element.addEventListener(\"click\", event => {\r\n\r\n                    event.stopPropagation();\r\n                    console.log(\"click-zoom\", event);\r\n                    if (event.target.className === \"area-zoom\") {\r\n                        console.log(\"area-zoom\", event);\r\n                        // let scale = value;\r\n\r\n                        //       scale = scale === 1 ? 2 : 1;\r\n\r\n                        //       var Page = document.getElementById('container');\r\n                        //       Page.style.transform = `scale(${scale})`;\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    //For Google Chrome\r\n    document.addEventListener(\"mousewheel\", event => {\r\n        console.log(`wheel`);\r\n        if (event.ctrlKey == true) {\r\n            event.preventDefault();\r\n            if (event.deltaY > 0) {\r\n                scalability_ -= 0.1;\r\n\r\n                if (scalability_ >= MINSCALE && scalability_ <= MAXSCALE) {\r\n                    console.log('Down', scalability_);\r\n                    var Page = document.getElementById('container');\r\n                    Page.style.transform = `scale(${scalability_})`;\r\n                }\r\n            } else {\r\n                scalability_ += 0.1;\r\n\r\n                if (scalability_ >= MINSCALE && scalability_ <= MAXSCALE) {\r\n                    console.log('Up', scalability_);\r\n                    var Page = document.getElementById('container');\r\n                    Page.style.transform = `scale(${scalability_})`;\r\n                }\r\n            }\r\n\r\n            clearTimeout(_scrollTimeout);\r\n            _scrollTimeout = setTimeout(function () {\r\n                console.log(\"zoom\", scalability_);\r\n                setValue(scalability_);\r\n                props.onHandleScale(scalability_);\r\n            }, 250);\r\n\r\n        }\r\n        else {\r\n            posX -= event.deltaX * 2;\r\n            posY -= event.deltaY * 2;\r\n            render();\r\n        }\r\n    }, { passive: false });\r\n\r\n    // For Mozilla Firefox\r\n    document.addEventListener(\"DOMMouseScroll\", event => {\r\n        console.log(`wheel`);\r\n        if (event.ctrlKey == true) {\r\n            event.preventDefault();\r\n            if (event.detail > 0) {\r\n                scalability_ -= 0.1;\r\n\r\n                if (scalability_ >= MINSCALE && scalability_ <= MAXSCALE) {\r\n                    console.log('Down', scalability_);\r\n                    var Page = document.getElementById('container');\r\n                    Page.style.transform = `scale(${scalability_})`;\r\n                }\r\n            } else {\r\n                scalability_ += 0.1;\r\n\r\n                if (scalability_ >= MINSCALE && scalability_ <= MAXSCALE) {\r\n                    console.log('Up', scalability_);\r\n                    var Page = document.getElementById('container');\r\n                    Page.style.transform = `scale(${scalability_})`;\r\n                }\r\n            }\r\n        }\r\n    }, { passive: false });\r\n\r\n    const zoomInOut = (changeEvent) => {\r\n        console.log(\"timer\");\r\n\r\n        const scale = changeEvent.target.value;\r\n\r\n        if (scale >= MINSCALE && scale <= MAXSCALE) {\r\n            var Page = document.getElementById('container');\r\n            Page.style.transform = `scale(${scale})`;\r\n            console.log(\"zoomSlide\", scale);\r\n\r\n            setValue(scale);\r\n            props.onHandleScale(scale);\r\n        }\r\n    }\r\n\r\n    const handleFullScreen = () => {\r\n        if (props.onFullScreen) {\r\n            props.onFullScreen();\r\n        }\r\n    }\r\n\r\n\r\n    const currentPages = props.currentPage === 0 || parseInt(props.currentPage) + 1 === parseInt(props.totalPages) ?\r\n        parseInt(props.currentPage) + 1 :\r\n        `${parseInt(props.currentPage) + 1} - ${parseInt(props.currentPage) + 2}`;\r\n\r\n    const handleChange = (event) => {\r\n        const data = {\r\n            [event.target.name]: event.target.value\r\n        }\r\n\r\n        setSearch(data);\r\n    }\r\n\r\n    const handleSubmit = (target) => {\r\n        if (target.key === 'Enter' || !!!target.key) {\r\n            if (props.onHandleSearch) {\r\n                props.onHandleSearch(search);\r\n                setSearch({});\r\n                document.getElementById('searchForm').reset();\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles[\"actions-bar\"]}>\r\n            <div className={styles[\"container-controls\"]}>\r\n                <form className=\"row\" id=\"searchForm\" autoComplete=\"off\">\r\n                    <div className={styles[\"range-slider-section\"]}>\r\n                        <RangeSlider\r\n                            value={value}\r\n                            tooltip={\"off\"}\r\n                            size={\"sm\"}\r\n                            variant={\"light\"}\r\n                            min={MINSCALE}\r\n                            max={MAXSCALE}\r\n                            step={SCALABILITY}\r\n                            onChange={zoomInOut}\r\n                        />\r\n                    </div>\r\n                    <a className={styles[\"full-screen-section\"]} onClick={handleFullScreen}>\r\n                        <img src={fullscreen} width=\"15px\" />\r\n                    </a>\r\n                    <div className={styles[\"pagination-section\"]}>\r\n                        <a className={styles[\"btn-prev\"]} onClick={props.onHandlePrev}>\r\n                            <img src={btnPrev} width=\"15px\" />\r\n                        </a>\r\n                        <input type=\"text\" className={styles[\"form-control\"]} id=\"currentPages\" name=\"page\" placeholder={currentPages} onChange={handleChange} onKeyDown={handleSubmit} />\r\n\r\n                        <span className={styles[\"span-total-pages\"]}>{` /  ${props.totalPages}`}</span>\r\n\r\n                        <a className={styles[\"btn-next\"]} onClick={props.onHandleNext}>\r\n                            <img src={btnNext} width=\"15px\" />\r\n                        </a>\r\n                    </div>\r\n                    <input type=\"text\" className={styles[\"form-control\"]} id=\"inputSeach\" name=\"words\" placeholder=\"Search\" onChange={handleChange} onKeyDown={handleSubmit} />\r\n\r\n                    <a className={styles[\"btn-search\"]} onClick={handleSubmit}>\r\n                        <img src={btnSearch} width=\"15px\" />\r\n                    </a>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActionsMenu\r\n","const responsive = {\r\n    desktop: {\r\n        breakpoint: { max: 3000, min: 1024 },\r\n        items: 6,\r\n        slidesToSlide: 1 // optional, default to 1.\r\n    },\r\n    tablet: {\r\n        breakpoint: { max: 1024, min: 464 },\r\n        items: 6,\r\n        slidesToSlide: 1 // optional, default to 1.\r\n    },\r\n    mobile: {\r\n        breakpoint: { max: 464, min: 0 },\r\n        items: 6,\r\n        slidesToSlide: 1 // optional, default to 1.\r\n    }\r\n};\r\n\r\nexport default responsive;","const getMagazine = (data) => {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve (data)\r\n        }, 4000)\r\n    })    \r\n} \r\n\r\nexport default getMagazine","import React from 'react'\r\n\r\nimport styles from \"../styles/loading.module.css\"\r\nimport \"../styles/index.js\"\r\n\r\nfunction Loading(props) {\r\n    return (\r\n        <div className={styles[\"container-loading\"]}>\r\n            <div className={styles[\"container-progress\"]} style={{backgroundImage:\"url(\" + props.cover + \")\", backgroundSize:\"cover\", backgroundRepeat:\"no-repeat\"}}>\r\n                <div className={styles[\"container-progress-opacity\"]}>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import Carousel from 'react-multi-carousel';\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { FullScreen, useFullScreenHandle } from 'react-full-screen'\r\n\r\nimport Page from './Page';\r\nimport FlipPages from './FlipPages';\r\nimport ActionsMenu from './ActionsMenu';\r\nimport responsive from '../utils/responsiveSlider';\r\n\r\nimport styles from \"../styles/magazine.module.css\"\r\nimport stylesPage from \"../styles/page.module.css\"\r\nimport 'react-multi-carousel/lib/styles.css';\r\nimport \"../styles/index.js\"\r\nimport getMagazine from '../utils/services';\r\nimport Loading from './Loading';\r\n\r\nfunction Magazine(props) {\r\n\r\n  /**** Organizar de esta manera las propiedades para cada compornente\r\n   const {colorText, bgColor, ...magazineProps} = props;\r\n   const {colorText, bgColor, ...sliderProps} = props;\r\n   const {colorText, bgColor, ...actionMenuProps} = props;\r\n   ****/\r\n  const handle = useFullScreenHandle();\r\n\r\n  let flipBook = useRef(null);\r\n  let carouselRef = useRef(null);\r\n\r\n  const [totalPage, setTotalPage] = useState(0);\r\n  const [page, setPage] = useState(0);\r\n  const [flipbookPages, setFlipbookPages] = useState([]);\r\n  const [magazinePages, setMagazinePages] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (totalPage === 0) {\r\n\r\n      getMagazine(props.book).then(data => {\r\n        setMagazinePages(data);\r\n\r\n        setTotalPage(data.length);\r\n\r\n        const _pages = data.slice(1, data.length - 1);\r\n\r\n        setFlipbookPages(_pages);\r\n\r\n      })\r\n    };\r\n  })\r\n\r\n  const handleFullScreen = () => {\r\n    if (handle.active) {\r\n      handle.exit()\r\n    } else {\r\n      handle.enter()\r\n    }\r\n  }\r\n\r\n  const prevButtonClick = () => {\r\n    flipBook.getPageFlip().flipPrev();\r\n  };\r\n\r\n  const nextButtonClick = () => {\r\n    flipBook.getPageFlip().flipNext();\r\n  };\r\n\r\n  const handleScale = (value) => {\r\n    console.log('scale', value);\r\n    document.getElementById(\"carousel-container\").style.display = \"block\"\r\n    if (value >= 1.3) {\r\n      document.getElementById(\"carousel-container\").style.display = \"none\"\r\n    } else {\r\n      document.getElementById(\"carousel-container\").style.display = \"block\"\r\n    }\r\n  }\r\n\r\n  const handleSearch = (data) => {\r\n    console.log(\"search\", data, parseInt(data.page));\r\n    let flipToPage = page;\r\n\r\n    if (!!data.page) {\r\n      const _data = parseInt(data.page);\r\n      const opt = isNaN(_data) ? \"NaN\" :\r\n        _data > totalPage ? \"OverMax\" :\r\n          _data < 1 ? \"DownMin\" :\r\n            \"InsideRange\";\r\n\r\n      switch (opt) {\r\n        case \"OverMax\":\r\n          flipToPage = totalPage - 1;\r\n          break;\r\n        case \"DownMin\":\r\n          flipToPage = 0;\r\n          break;\r\n        case \"InsideRange\":\r\n          flipToPage = _data - 1;\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n      flipBook.getPageFlip().flip(flipToPage);\r\n    }\r\n    else if (!!data.words)\r\n      alert(\"buscando coincidencias\")\r\n  }\r\n\r\n  const handleCarrousel = (event) => {\r\n    if (!navigator.maxTouchPoints) {\r\n      const nextPageCarrousel = event.data > 1 ? Math.trunc(event.data / 2 + 1) : event.data;\r\n\r\n      carouselRef.current.goToSlide(nextPageCarrousel);\r\n\r\n      onPage(event)\r\n    }\r\n  };\r\n\r\n  const onPage = (e) => {\r\n    setPage(e.data);\r\n  };\r\n\r\n  const handleAssigRef = (ref) => {\r\n    flipBook = ref;\r\n  };\r\n\r\n  const pagesFlipbook = (item, index) => {\r\n    return <Page key={index} page={index + 1} source={item}>\r\n      <div className={stylesPage[\"body-page\"]}\r\n        style={{\r\n          backgroundImage: `url(${item})`,\r\n        }}>\r\n        <div className={stylesPage[\"area-zoom\"]} />\r\n      </div>\r\n    </Page>\r\n  };\r\n\r\n  const renderThumbnail = (page, index) => {\r\n    return (\r\n      <div style={{\r\n        boxShadow: \"inset 7px 0 30px -7px rgba(0,0,0,0.3)\",\r\n        backgroundImage: `url(${page})`,\r\n        backgroundSize: \"cover\",\r\n        width: \"50px\",\r\n        height: \"50px\"\r\n      }} />\r\n    )\r\n  };\r\n\r\n  const dobleThumbnail = (page, index) => {\r\n    if (index > 0 && isOdd(index) && index < props.book.length - 1) {\r\n      return (\r\n        <div key={index} className={styles[\"thumbnail-img\"]}>\r\n          {\r\n            renderThumbnail(page, index)\r\n          }\r\n          {\r\n            renderThumbnail(props.book[index + 1], index + 1)\r\n          }\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        null\r\n      )\r\n    }\r\n  };\r\n\r\n  const handleFlip = (currentPage) => {\r\n    const nextPageFlipbook = currentPage > 1 ? currentPage * 2 - 1 : currentPage;\r\n    flipBook.getPageFlip().flip(nextPageFlipbook);\r\n  };\r\n\r\n  const isOdd = num => {\r\n    return num % 2 !== 0;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!(flipbookPages.length > 0) && <Loading cover={props.cover} />}\r\n      {flipbookPages.length > 0 && <div className=\"full-screenable-node\">\r\n        <FullScreen handle={handle}>\r\n          {!navigator.maxTouchPoints && <ActionsMenu\r\n            currentPage={page}\r\n            totalPages={totalPage}\r\n            onFullScreen={handleFullScreen}\r\n            onHandlePrev={prevButtonClick}\r\n            onHandleNext={nextButtonClick}\r\n            onHandleScale={handleScale}\r\n            onHandleSearch={handleSearch}\r\n          />}\r\n          <FlipPages\r\n            size={props.size}\r\n            book={props.book}\r\n            page={page}\r\n            totalPage={totalPage}\r\n            pagesFlipbook={pagesFlipbook}\r\n            assigRef={handleAssigRef}\r\n            flipbookPages={flipbookPages}\r\n            handleCarrousel={handleCarrousel}\r\n            nextButtonClick={nextButtonClick}\r\n            prevButtonClick={prevButtonClick}\r\n          />\r\n          {!navigator.maxTouchPoints && <div id=\"carousel-container\" className={styles[\"carousel-container\"]}>\r\n              {\r\n                !navigator.maxTouchPoints && page !== 0 && <a onClick={prevButtonClick}><div className={styles[\"arrow-left\"]} /></a>\r\n              }\r\n            <div className={styles[\"slider-section\"]}>\r\n              <Carousel\r\n                ref={carouselRef}\r\n                swipeable={true}\r\n                centerMode={false}\r\n                focusOnSelect={true}\r\n                beforeChange={handleFlip}\r\n                draggable={true}\r\n                showDots={false}\r\n                responsive={responsive}\r\n                ssr={true} // means to render carousel on server-side.\r\n                infinite={false}\r\n                autoPlaySpeed={1000}\r\n                keyBoardControl={true}\r\n                customTransition=\"all .5\"\r\n                transitionDuration={500}\r\n                containerClass=\"carousel-container\"\r\n                removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\r\n                deviceType={props.deviceType}\r\n                dotListClass=\"custom-dot-list-style\"\r\n                itemClass=\"carousel-item-padding-40-px\"\r\n              >\r\n                {\r\n                  renderThumbnail(props.book[0], -1)\r\n                }\r\n                {\r\n                  props.book.map(dobleThumbnail)\r\n                }\r\n                {\r\n                  renderThumbnail(props.book[props.book.length - 1], props.book.lenght)\r\n                }\r\n              </Carousel>\r\n            </div>\r\n                {\r\n                  !navigator.maxTouchPoints && page !== totalPage - 1 && <a onClick={nextButtonClick}><div className={styles[\"arrow-right\"]} /></a>\r\n                }\r\n          </div>}\r\n        </FullScreen>\r\n      </div>}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Magazine\r\n","import React from 'react'\nimport styles from './styles.module.css'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport Magazine from \"./components/Magazine\"\n\nexport const ExampleComponent = ({ pages, cover, size }) => {\n  return <Magazine book={pages} cover={cover} size={size} />\n}\n"],"names":["Page","React","forwardRef","props","ref","styles","children","memo","PageCover","FlipPages","flipBook","useRef","assigRef","useEffect","navigator","maxTouchPoints","page","document","getElementById","style","transform","totalPage","prevButtonClick","size","width","height","handleCarrousel","corner","stylesCover","backgroundImage","book","flipbookPages","map","pagesFlipbook","length","nextButtonClick","MAXSCALE","MINSCALE","SCALABILITY","ActionsMenu","useState","value","setValue","search","setSearch","scalability_","_scrollTimeout","node","rotation","posX","posY","render","window","requestAnimationFrame","val","object","getElementsByClassName","key","Object","hasOwnProperty","call","element","addEventListener","event","stopPropagation","console","log","target","className","ctrlKey","preventDefault","deltaY","clearTimeout","setTimeout","onHandleScale","deltaX","passive","detail","zoomInOut","changeEvent","scale","handleFullScreen","onFullScreen","currentPages","currentPage","parseInt","totalPages","handleChange","data","name","handleSubmit","onHandleSearch","reset","fullscreen","onHandlePrev","btnPrev","onHandleNext","btnNext","btnSearch","responsive","desktop","breakpoint","max","min","items","slidesToSlide","tablet","mobile","getMagazine","Promise","resolve","reject","Loading","cover","backgroundSize","backgroundRepeat","Magazine","handle","useFullScreenHandle","carouselRef","setTotalPage","setPage","setFlipbookPages","magazinePages","setMagazinePages","then","_pages","slice","active","exit","enter","getPageFlip","flipPrev","flipNext","handleScale","display","handleSearch","flipToPage","_data","opt","isNaN","flip","words","alert","nextPageCarrousel","Math","trunc","current","goToSlide","onPage","e","handleAssigRef","item","index","stylesPage","renderThumbnail","boxShadow","dobleThumbnail","isOdd","handleFlip","nextPageFlipbook","num","deviceType","ExampleComponent","pages"],"mappings":";;;;;;;;;;;;;;;AAIA,IAAMA,IAAI,GAAGC,KAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC1C,sBACI;AAAK,IAAA,SAAS,EAAEC,UAAM,CAAC,MAAD,CAAtB;AAAgC,IAAA,GAAG,EAAED;AAArC,kBACI;AAAK,IAAA,SAAS,EAAEC,UAAM,CAAC,cAAD;AAAtB,kBACI;AAAK,IAAA,SAAS,EAAEA,UAAM,CAAC,WAAD;AAAtB,KAAsCF,KAAK,CAACG,QAA5C,CADJ,CADJ,CADJ;AAOH,CARY,CAAb;AAUA,aAAeL,KAAK,CAACM,IAAN,CAAWP,IAAX,CAAf;;;;ACVA,IAAMQ,SAAS,GAAGP,KAAK,CAACC,UAAN,CAAiB,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC/C,sBACI;AAAK,IAAA,SAAS,EAAEC,WAAM,CAAC,MAAD,CAAtB;AAAgC,IAAA,GAAG,EAAED,GAArC;AAA0C,oBAAa;AAAvD,kBACI;AAAK,IAAA,SAAS,EAAEC,WAAM,CAAC,cAAD;AAAtB,KACKF,KAAK,CAACG,QADX,CADJ,CADJ;AAOH,CARiB,CAAlB;;;;;;;;;;ACMA,SAASG,SAAT,CAAmBN,KAAnB,EAA0B;AAExB,MAAIO,QAAQ,GAAGC,MAAM,CAAC,IAAD,CAArB;;AAEA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACR,GAAD,EAAS;AACxBM,IAAAA,QAAQ,GAAGN,GAAX;;AAEA,QAAIM,QAAJ,EAAc;AACZP,MAAAA,KAAK,CAACS,QAAN,CAAeF,QAAf;AACD;AACF,GAND;;AAQAG,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACC,SAAS,CAACC,cAAX,IAA6BZ,KAAK,CAACa,IAAN,KAAe,CAAhD,EAAmD;AACjDC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,SAA3C,GAAuD,oBAAvD;AACD,KAFD,MAEO,IAAIjB,KAAK,CAACa,IAAN,KAAeb,KAAK,CAACkB,SAAN,GAAkB,CAArC,EAAwC;AAC7CJ,MAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,SAA3C,GAAuD,mBAAvD;AACD,KAFM,MAEA;AACLH,MAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,SAA3C,GAAuD,gBAAvD;AACD;AACF,GARQ,CAAT;AAUA,sBAEE;AAAK,IAAA,EAAE,EAAC,WAAR;AAAoB,IAAA,SAAS,EAAEf,MAAM,CAAC,WAAD;AAArC,KAEI,CAACS,SAAS,CAACC,cAAX,IAA6BZ,KAAK,CAACa,IAAN,KAAe,CAA5C,iBAAiD;AAAG,IAAA,OAAO,EAAEb,KAAK,CAACmB;AAAlB,kBAAmC;AAAK,IAAA,SAAS,EAAEjB,MAAM,CAAC,YAAD;AAAtB,IAAnC,CAFrD,eAIE,oBAAC,YAAD;AACE,IAAA,KAAK,EAAEF,KAAK,CAACoB,IAAN,CAAWC,KADpB;AAEE,IAAA,MAAM,EAAErB,KAAK,CAACoB,IAAN,CAAWE,MAFrB;AAGE,IAAA,SAAS,EAAE,IAHb;AAIE,IAAA,gBAAgB,EAAE,GAJpB;AAKE,IAAA,aAAa,EAAE,EALjB;AAME,IAAA,MAAM,EAAEtB,KAAK,CAACuB,eANhB;AAOE,IAAA,cAAc,EAAE,IAPlB;AAQE,IAAA,QAAQ,EAAE;AAAEC,MAAAA,MAAM,EAAE,CAAC,KAAD,EAAQ,QAAR;AAAV,KARZ;AASE,IAAA,GAAG,EAAEf,QATP;AAUE,IAAA,mBAAmB,EAAE;AAVvB,kBAWE,oBAAC,SAAD,qBACE;AAAK,IAAA,SAAS,EAAEgB,WAAW,CAAC,YAAD,CAA3B;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,WAAS1B,KAAK,CAAC2B,IAAN,CAAW,CAAX,CAAT;AADV;AADT,IADF,CAXF,EAkBI3B,KAAK,CAAC4B,aAAN,CAAoBC,GAApB,CAAwB7B,KAAK,CAAC8B,aAA9B,CAlBJ,eAoBE,oBAAC,SAAD,qBACE;AAAK,IAAA,SAAS,EAAEL,WAAW,CAAC,YAAD,CAA3B;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,eAAe,WAAS1B,KAAK,CAAC2B,IAAN,CAAW3B,KAAK,CAAC2B,IAAN,CAAWI,MAAX,GAAoB,CAA/B,CAAT;AADV;AADT,IADF,CApBF,CAJF,EAgCI,CAACpB,SAAS,CAACC,cAAX,IAA6BZ,KAAK,CAACa,IAAN,KAAeb,KAAK,CAACkB,SAAN,GAAkB,CAA9D,iBAAmE;AAAG,IAAA,OAAO,EAAElB,KAAK,CAACgC;AAAlB,kBAAmC;AAAK,IAAA,SAAS,EAAE9B,MAAM,CAAC,aAAD;AAAtB,IAAnC,CAhCvE,CAFF;AAsCD;;AC1DD,IAAM+B,QAAQ,GAAG,CAAjB;AACA,IAAMC,QAAQ,GAAG,CAAjB;AACA,IAAMC,WAAW,GAAG,GAApB;;AAEA,SAASC,WAAT,CAAqBpC,KAArB,EAA4B;AAAA,kBACEqC,QAAQ,CAAC,CAAD,CADV;AAAA,MACjBC,KADiB;AAAA,MACVC,QADU;;AAAA,mBAEIF,QAAQ,CAAC,EAAD,CAFZ;AAAA,MAEjBG,MAFiB;AAAA,MAETC,SAFS;;AAGxB,MAAIC,YAAY,GAAG,CAAnB;AACA,MAAIC,cAAc,GAAG,IAArB;AAEA,MAAIC,IAAJ;AACA,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,IAAI,GAAG,CAAX;AACA,MAAIC,IAAI,GAAG,CAAX;AAEAH,EAAAA,IAAI,GAAG9B,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAP;;AAEA,MAAIiC,MAAM,GAAG,SAATA,MAAS,GAAM;AAEfC,IAAAA,MAAM,CAACC,qBAAP,CAA6B,YAAM;AAC/B,UAAIC,GAAG,oBAAkBL,IAAlB,YAA6BC,IAA7B,wBAAoDF,QAApD,mBAA0EP,KAA1E,MAAP;AACAxB,MAAAA,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,CAA2CC,SAA3C,GAAuDkC,GAAvD;AACH,KAHD;AAKH,GAPD;;AASA,MAAMC,MAAM,GAAGtC,QAAQ,CAACuC,sBAAT,CAAgC,aAAhC,CAAf;;AACA,MAAID,MAAM,CAACrB,MAAP,GAAgB,CAApB,EAAuB;AACnB,SAAK,IAAMuB,GAAX,IAAkBF,MAAlB,EAA0B;AACtB,UAAIG,MAAM,CAACC,cAAP,CAAsBC,IAAtB,CAA2BL,MAA3B,EAAmCE,GAAnC,CAAJ,EAA6C;AACzC,YAAMI,OAAO,GAAGN,MAAM,CAACE,GAAD,CAAtB;AACAI,QAAAA,OAAO,CAACC,gBAAR,CAAyB,OAAzB,EAAkC,UAAAC,KAAK,EAAI;AAEvCA,UAAAA,KAAK,CAACC,eAAN;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,KAA1B;;AACA,cAAIA,KAAK,CAACI,MAAN,CAAaC,SAAb,KAA2B,WAA/B,EAA4C;AACxCH,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBH,KAAzB;AAOH;AACJ,SAbD;AAcH;AACJ;AACJ;;AAID9C,EAAAA,QAAQ,CAAC6C,gBAAT,CAA0B,YAA1B,EAAwC,UAAAC,KAAK,EAAI;AAC7CE,IAAAA,OAAO,CAACC,GAAR;;AACA,QAAIH,KAAK,CAACM,OAAN,IAAiB,IAArB,EAA2B;AACvBN,MAAAA,KAAK,CAACO,cAAN;;AACA,UAAIP,KAAK,CAACQ,MAAN,GAAe,CAAnB,EAAsB;AAClB1B,QAAAA,YAAY,IAAI,GAAhB;;AAEA,YAAIA,YAAY,IAAIR,QAAhB,IAA4BQ,YAAY,IAAIT,QAAhD,EAA0D;AACtD6B,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBrB,YAApB;AACA,cAAI7C,IAAI,GAAGiB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACAlB,UAAAA,IAAI,CAACmB,KAAL,CAAWC,SAAX,cAAgCyB,YAAhC;AACH;AACJ,OARD,MAQO;AACHA,QAAAA,YAAY,IAAI,GAAhB;;AAEA,YAAIA,YAAY,IAAIR,QAAhB,IAA4BQ,YAAY,IAAIT,QAAhD,EAA0D;AACtD6B,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBrB,YAAlB;AACA,cAAI7C,IAAI,GAAGiB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACAlB,UAAAA,IAAI,CAACmB,KAAL,CAAWC,SAAX,cAAgCyB,YAAhC;AACH;AACJ;;AAED2B,MAAAA,YAAY,CAAC1B,cAAD,CAAZ;AACAA,MAAAA,cAAc,GAAG2B,UAAU,CAAC,YAAY;AACpCR,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBrB,YAApB;AACAH,QAAAA,QAAQ,CAACG,YAAD,CAAR;AACA1C,QAAAA,KAAK,CAACuE,aAAN,CAAoB7B,YAApB;AACH,OAJ0B,EAIxB,GAJwB,CAA3B;AAMH,KA3BD,MA4BK;AACDI,MAAAA,IAAI,IAAIc,KAAK,CAACY,MAAN,GAAe,CAAvB;AACAzB,MAAAA,IAAI,IAAIa,KAAK,CAACQ,MAAN,GAAe,CAAvB;AACApB,MAAAA,MAAM;AACT;AACJ,GAnCD,EAmCG;AAAEyB,IAAAA,OAAO,EAAE;AAAX,GAnCH;AAsCA3D,EAAAA,QAAQ,CAAC6C,gBAAT,CAA0B,gBAA1B,EAA4C,UAAAC,KAAK,EAAI;AACjDE,IAAAA,OAAO,CAACC,GAAR;;AACA,QAAIH,KAAK,CAACM,OAAN,IAAiB,IAArB,EAA2B;AACvBN,MAAAA,KAAK,CAACO,cAAN;;AACA,UAAIP,KAAK,CAACc,MAAN,GAAe,CAAnB,EAAsB;AAClBhC,QAAAA,YAAY,IAAI,GAAhB;;AAEA,YAAIA,YAAY,IAAIR,QAAhB,IAA4BQ,YAAY,IAAIT,QAAhD,EAA0D;AACtD6B,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBrB,YAApB;AACA,cAAI7C,IAAI,GAAGiB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACAlB,UAAAA,IAAI,CAACmB,KAAL,CAAWC,SAAX,cAAgCyB,YAAhC;AACH;AACJ,OARD,MAQO;AACHA,QAAAA,YAAY,IAAI,GAAhB;;AAEA,YAAIA,YAAY,IAAIR,QAAhB,IAA4BQ,YAAY,IAAIT,QAAhD,EAA0D;AACtD6B,UAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBrB,YAAlB;AACA,cAAI7C,IAAI,GAAGiB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACAlB,UAAAA,IAAI,CAACmB,KAAL,CAAWC,SAAX,cAAgCyB,YAAhC;AACH;AACJ;AACJ;AACJ,GAtBD,EAsBG;AAAE+B,IAAAA,OAAO,EAAE;AAAX,GAtBH;;AAwBA,MAAME,SAAS,GAAG,SAAZA,SAAY,CAACC,WAAD,EAAiB;AAC/Bd,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAEA,QAAMc,KAAK,GAAGD,WAAW,CAACZ,MAAZ,CAAmB1B,KAAjC;;AAEA,QAAIuC,KAAK,IAAI3C,QAAT,IAAqB2C,KAAK,IAAI5C,QAAlC,EAA4C;AACxC,UAAIpC,IAAI,GAAGiB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAX;AACAlB,MAAAA,IAAI,CAACmB,KAAL,CAAWC,SAAX,cAAgC4D,KAAhC;AACAf,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBc,KAAzB;AAEAtC,MAAAA,QAAQ,CAACsC,KAAD,CAAR;AACA7E,MAAAA,KAAK,CAACuE,aAAN,CAAoBM,KAApB;AACH;AACJ,GAbD;;AAeA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3B,QAAI9E,KAAK,CAAC+E,YAAV,EAAwB;AACpB/E,MAAAA,KAAK,CAAC+E,YAAN;AACH;AACJ,GAJD;;AAOA,MAAMC,YAAY,GAAGhF,KAAK,CAACiF,WAAN,KAAsB,CAAtB,IAA2BC,QAAQ,CAAClF,KAAK,CAACiF,WAAP,CAAR,GAA8B,CAA9B,KAAoCC,QAAQ,CAAClF,KAAK,CAACmF,UAAP,CAAvE,GACjBD,QAAQ,CAAClF,KAAK,CAACiF,WAAP,CAAR,GAA8B,CADb,GAEdC,QAAQ,CAAClF,KAAK,CAACiF,WAAP,CAAR,GAA8B,CAFhB,YAEuBC,QAAQ,CAAClF,KAAK,CAACiF,WAAP,CAAR,GAA8B,CAFrD,CAArB;;AAIA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAACxB,KAAD,EAAW;AAAA;;AAC5B,QAAMyB,IAAI,sBACLzB,KAAK,CAACI,MAAN,CAAasB,IADR,IACe1B,KAAK,CAACI,MAAN,CAAa1B,KAD5B,QAAV;AAIAG,IAAAA,SAAS,CAAC4C,IAAD,CAAT;AACH,GAND;;AAQA,MAAME,YAAY,GAAG,SAAfA,YAAe,CAACvB,MAAD,EAAY;AAC7B,QAAIA,MAAM,CAACV,GAAP,KAAe,OAAf,IAA0B,CAAC,CAAC,CAACU,MAAM,CAACV,GAAxC,EAA6C;AACzC,UAAItD,KAAK,CAACwF,cAAV,EAA0B;AACtBxF,QAAAA,KAAK,CAACwF,cAAN,CAAqBhD,MAArB;AACAC,QAAAA,SAAS,CAAC,EAAD,CAAT;AACA3B,QAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC0E,KAAtC;AACH;AACJ;AACJ,GARD;;AAUA,sBACI;AAAK,IAAA,SAAS,EAAEvF,QAAM,CAAC,aAAD;AAAtB,kBACI;AAAK,IAAA,SAAS,EAAEA,QAAM,CAAC,oBAAD;AAAtB,kBACI;AAAM,IAAA,SAAS,EAAC,KAAhB;AAAsB,IAAA,EAAE,EAAC,YAAzB;AAAsC,IAAA,YAAY,EAAC;AAAnD,kBACI;AAAK,IAAA,SAAS,EAAEA,QAAM,CAAC,sBAAD;AAAtB,kBACI,oBAAC,WAAD;AACI,IAAA,KAAK,EAAEoC,KADX;AAEI,IAAA,OAAO,EAAE,KAFb;AAGI,IAAA,IAAI,EAAE,IAHV;AAII,IAAA,OAAO,EAAE,OAJb;AAKI,IAAA,GAAG,EAAEJ,QALT;AAMI,IAAA,GAAG,EAAED,QANT;AAOI,IAAA,IAAI,EAAEE,WAPV;AAQI,IAAA,QAAQ,EAAEwC;AARd,IADJ,CADJ,eAaI;AAAG,IAAA,SAAS,EAAEzE,QAAM,CAAC,qBAAD,CAApB;AAA6C,IAAA,OAAO,EAAE4E;AAAtD,kBACI;AAAK,IAAA,GAAG,EAAEY,UAAV;AAAsB,IAAA,KAAK,EAAC;AAA5B,IADJ,CAbJ,eAgBI;AAAK,IAAA,SAAS,EAAExF,QAAM,CAAC,oBAAD;AAAtB,kBACI;AAAG,IAAA,SAAS,EAAEA,QAAM,CAAC,UAAD,CAApB;AAAkC,IAAA,OAAO,EAAEF,KAAK,CAAC2F;AAAjD,kBACI;AAAK,IAAA,GAAG,EAAEC,OAAV;AAAmB,IAAA,KAAK,EAAC;AAAzB,IADJ,CADJ,eAII;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAE1F,QAAM,CAAC,cAAD,CAApC;AAAsD,IAAA,EAAE,EAAC,cAAzD;AAAwE,IAAA,IAAI,EAAC,MAA7E;AAAoF,IAAA,WAAW,EAAE8E,YAAjG;AAA+G,IAAA,QAAQ,EAAEI,YAAzH;AAAuI,IAAA,SAAS,EAAEG;AAAlJ,IAJJ,eAMI;AAAM,IAAA,SAAS,EAAErF,QAAM,CAAC,kBAAD;AAAvB,cAAqDF,KAAK,CAACmF,UAA3D,CANJ,eAQI;AAAG,IAAA,SAAS,EAAEjF,QAAM,CAAC,UAAD,CAApB;AAAkC,IAAA,OAAO,EAAEF,KAAK,CAAC6F;AAAjD,kBACI;AAAK,IAAA,GAAG,EAAEC,OAAV;AAAmB,IAAA,KAAK,EAAC;AAAzB,IADJ,CARJ,CAhBJ,eA4BI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,SAAS,EAAE5F,QAAM,CAAC,cAAD,CAApC;AAAsD,IAAA,EAAE,EAAC,YAAzD;AAAsE,IAAA,IAAI,EAAC,OAA3E;AAAmF,IAAA,WAAW,EAAC,QAA/F;AAAwG,IAAA,QAAQ,EAAEkF,YAAlH;AAAgI,IAAA,SAAS,EAAEG;AAA3I,IA5BJ,eA8BI;AAAG,IAAA,SAAS,EAAErF,QAAM,CAAC,YAAD,CAApB;AAAoC,IAAA,OAAO,EAAEqF;AAA7C,kBACI;AAAK,IAAA,GAAG,EAAEQ,SAAV;AAAqB,IAAA,KAAK,EAAC;AAA3B,IADJ,CA9BJ,CADJ,CADJ,CADJ;AAwCH;;ACjND,IAAMC,UAAU,GAAG;AACfC,EAAAA,OAAO,EAAE;AACLC,IAAAA,UAAU,EAAE;AAAEC,MAAAA,GAAG,EAAE,IAAP;AAAaC,MAAAA,GAAG,EAAE;AAAlB,KADP;AAELC,IAAAA,KAAK,EAAE,CAFF;AAGLC,IAAAA,aAAa,EAAE;AAHV,GADM;AAMfC,EAAAA,MAAM,EAAE;AACJL,IAAAA,UAAU,EAAE;AAAEC,MAAAA,GAAG,EAAE,IAAP;AAAaC,MAAAA,GAAG,EAAE;AAAlB,KADR;AAEJC,IAAAA,KAAK,EAAE,CAFH;AAGJC,IAAAA,aAAa,EAAE;AAHX,GANO;AAWfE,EAAAA,MAAM,EAAE;AACJN,IAAAA,UAAU,EAAE;AAAEC,MAAAA,GAAG,EAAE,GAAP;AAAYC,MAAAA,GAAG,EAAE;AAAjB,KADR;AAEJC,IAAAA,KAAK,EAAE,CAFH;AAGJC,IAAAA,aAAa,EAAE;AAHX;AAXO,CAAnB;;ACAA,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAACpB,IAAD,EAAU;AAC1B,SAAO,IAAIqB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCtC,IAAAA,UAAU,CAAC,YAAM;AACbqC,MAAAA,OAAO,CAAEtB,IAAF,CAAP;AACH,KAFS,EAEP,IAFO,CAAV;AAGH,GAJM,CAAP;AAKH,CAND;;ACKA,SAASwB,OAAT,CAAiB7G,KAAjB,EAAwB;AACpB,sBACI;AAAK,IAAA,SAAS,EAAEE,QAAM,CAAC,mBAAD;AAAtB,kBACI;AAAK,IAAA,SAAS,EAAEA,QAAM,CAAC,oBAAD,CAAtB;AAA8C,IAAA,KAAK,EAAE;AAACwB,MAAAA,eAAe,EAAC,SAAS1B,KAAK,CAAC8G,KAAf,GAAuB,GAAxC;AAA6CC,MAAAA,cAAc,EAAC,OAA5D;AAAqEC,MAAAA,gBAAgB,EAAC;AAAtF;AAArD,kBACI;AAAK,IAAA,SAAS,EAAE9G,QAAM,CAAC,4BAAD;AAAtB,IADJ,CADJ,CADJ;AAQH;;ACED,SAAS+G,QAAT,CAAkBjH,KAAlB,EAAyB;AAOvB,MAAMkH,MAAM,GAAGC,mBAAmB,EAAlC;AAEA,MAAI5G,QAAQ,GAAGC,MAAM,CAAC,IAAD,CAArB;AACA,MAAI4G,WAAW,GAAG5G,MAAM,CAAC,IAAD,CAAxB;;AAVuB,kBAYW6B,QAAQ,CAAC,CAAD,CAZnB;AAAA,MAYhBnB,SAZgB;AAAA,MAYLmG,YAZK;;AAAA,mBAaChF,QAAQ,CAAC,CAAD,CAbT;AAAA,MAahBxB,IAbgB;AAAA,MAaVyG,OAbU;;AAAA,mBAcmBjF,QAAQ,CAAC,EAAD,CAd3B;AAAA,MAchBT,aAdgB;AAAA,MAcD2F,gBAdC;;AAAA,mBAemBlF,QAAQ,CAAC,EAAD,CAf3B;AAAA,MAehBmF,AAAeC,gBAfC;;AAiBvB/G,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIQ,SAAS,KAAK,CAAlB,EAAqB;AAEnBuF,MAAAA,WAAW,CAACzG,KAAK,CAAC2B,IAAP,CAAX,CAAwB+F,IAAxB,CAA6B,UAAArC,IAAI,EAAI;AACnCoC,QAAAA,gBAAgB,CAACpC,IAAD,CAAhB;AAEAgC,QAAAA,YAAY,CAAChC,IAAI,CAACtD,MAAN,CAAZ;;AAEA,YAAM4F,MAAM,GAAGtC,IAAI,CAACuC,KAAL,CAAW,CAAX,EAAcvC,IAAI,CAACtD,MAAL,GAAc,CAA5B,CAAf;;AAEAwF,QAAAA,gBAAgB,CAACI,MAAD,CAAhB;AAED,OATD;AAUD;AACF,GAdQ,CAAT;;AAgBA,MAAM7C,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,QAAIoC,MAAM,CAACW,MAAX,EAAmB;AACjBX,MAAAA,MAAM,CAACY,IAAP;AACD,KAFD,MAEO;AACLZ,MAAAA,MAAM,CAACa,KAAP;AACD;AACF,GAND;;AAQA,MAAM5G,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BZ,IAAAA,QAAQ,CAACyH,WAAT,GAAuBC,QAAvB;AACD,GAFD;;AAIA,MAAMjG,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5BzB,IAAAA,QAAQ,CAACyH,WAAT,GAAuBE,QAAvB;AACD,GAFD;;AAIA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC7F,KAAD,EAAW;AAC7BwB,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBzB,KAArB;AACAxB,IAAAA,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,KAA9C,CAAoDoH,OAApD,GAA8D,OAA9D;;AACA,QAAI9F,KAAK,IAAI,GAAb,EAAkB;AAChBxB,MAAAA,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,KAA9C,CAAoDoH,OAApD,GAA8D,MAA9D;AACD,KAFD,MAEO;AACLtH,MAAAA,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,EAA8CC,KAA9C,CAAoDoH,OAApD,GAA8D,OAA9D;AACD;AACF,GARD;;AAUA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAChD,IAAD,EAAU;AAC7BvB,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBsB,IAAtB,EAA4BH,QAAQ,CAACG,IAAI,CAACxE,IAAN,CAApC;AACA,QAAIyH,UAAU,GAAGzH,IAAjB;;AAEA,QAAI,CAAC,CAACwE,IAAI,CAACxE,IAAX,EAAiB;AACf,UAAM0H,KAAK,GAAGrD,QAAQ,CAACG,IAAI,CAACxE,IAAN,CAAtB;;AACA,UAAM2H,GAAG,GAAGC,KAAK,CAACF,KAAD,CAAL,GAAe,KAAf,GACVA,KAAK,GAAGrH,SAAR,GAAoB,SAApB,GACEqH,KAAK,GAAG,CAAR,GAAY,SAAZ,GACE,aAHN;;AAKA,cAAQC,GAAR;AACE,aAAK,SAAL;AACEF,UAAAA,UAAU,GAAGpH,SAAS,GAAG,CAAzB;AACA;;AACF,aAAK,SAAL;AACEoH,UAAAA,UAAU,GAAG,CAAb;AACA;;AACF,aAAK,aAAL;AACEA,UAAAA,UAAU,GAAGC,KAAK,GAAG,CAArB;AACA;;AACF;AACE;AAXJ;;AAaAhI,MAAAA,QAAQ,CAACyH,WAAT,GAAuBU,IAAvB,CAA4BJ,UAA5B;AACD,KArBD,MAsBK,IAAI,CAAC,CAACjD,IAAI,CAACsD,KAAX,EACHC,KAAK,CAAC,wBAAD,CAAL;AACH,GA5BD;;AA8BA,MAAMrH,eAAe,GAAG,SAAlBA,eAAkB,CAACqC,KAAD,EAAW;AACjC,QAAI,CAACjD,SAAS,CAACC,cAAf,EAA+B;AAC7B,UAAMiI,iBAAiB,GAAGjF,KAAK,CAACyB,IAAN,GAAa,CAAb,GAAiByD,IAAI,CAACC,KAAL,CAAWnF,KAAK,CAACyB,IAAN,GAAa,CAAb,GAAiB,CAA5B,CAAjB,GAAkDzB,KAAK,CAACyB,IAAlF;AAEA+B,MAAAA,WAAW,CAAC4B,OAAZ,CAAoBC,SAApB,CAA8BJ,iBAA9B;AAEAK,MAAAA,MAAM,CAACtF,KAAD,CAAN;AACD;AACF,GARD;;AAUA,MAAMsF,MAAM,GAAG,SAATA,MAAS,CAACC,CAAD,EAAO;AACpB7B,IAAAA,OAAO,CAAC6B,CAAC,CAAC9D,IAAH,CAAP;AACD,GAFD;;AAIA,MAAM+D,cAAc,GAAG,SAAjBA,cAAiB,CAACnJ,GAAD,EAAS;AAC9BM,IAAAA,QAAQ,GAAGN,GAAX;AACD,GAFD;;AAIA,MAAM6B,aAAa,GAAG,SAAhBA,aAAgB,CAACuH,IAAD,EAAOC,KAAP,EAAiB;AACrC,wBAAO,oBAACzJ,MAAD;AAAM,MAAA,GAAG,EAAEyJ,KAAX;AAAkB,MAAA,IAAI,EAAEA,KAAK,GAAG,CAAhC;AAAmC,MAAA,MAAM,EAAED;AAA3C,oBACL;AAAK,MAAA,SAAS,EAAEE,UAAU,CAAC,WAAD,CAA1B;AACE,MAAA,KAAK,EAAE;AACL7H,QAAAA,eAAe,WAAS2H,IAAT;AADV;AADT,oBAIE;AAAK,MAAA,SAAS,EAAEE,UAAU,CAAC,WAAD;AAA1B,MAJF,CADK,CAAP;AAQD,GATD;;AAWA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAC3I,IAAD,EAAOyI,KAAP,EAAiB;AACvC,wBACE;AAAK,MAAA,KAAK,EAAE;AACVG,QAAAA,SAAS,EAAE,uCADD;AAEV/H,QAAAA,eAAe,WAASb,IAAT,MAFL;AAGVkG,QAAAA,cAAc,EAAE,OAHN;AAIV1F,QAAAA,KAAK,EAAE,MAJG;AAKVC,QAAAA,MAAM,EAAE;AALE;AAAZ,MADF;AASD,GAVD;;AAYA,MAAMoI,cAAc,GAAG,SAAjBA,cAAiB,CAAC7I,IAAD,EAAOyI,KAAP,EAAiB;AACtC,QAAIA,KAAK,GAAG,CAAR,IAAaK,KAAK,CAACL,KAAD,CAAlB,IAA6BA,KAAK,GAAGtJ,KAAK,CAAC2B,IAAN,CAAWI,MAAX,GAAoB,CAA7D,EAAgE;AAC9D,0BACE;AAAK,QAAA,GAAG,EAAEuH,KAAV;AAAiB,QAAA,SAAS,EAAEpJ,QAAM,CAAC,eAAD;AAAlC,SAEIsJ,eAAe,CAAC3I,IAAD,AAAA,CAFnB,EAKI2I,eAAe,CAACxJ,KAAK,CAAC2B,IAAN,CAAW2H,KAAK,GAAG,CAAnB,CAAD,AAAA,CALnB,CADF;AAUD,KAXD,MAWO;AACL,aACE,IADF;AAGD;AACF,GAjBD;;AAmBA,MAAMM,UAAU,GAAG,SAAbA,UAAa,CAAC3E,WAAD,EAAiB;AAClC,QAAM4E,gBAAgB,GAAG5E,WAAW,GAAG,CAAd,GAAkBA,WAAW,GAAG,CAAd,GAAkB,CAApC,GAAwCA,WAAjE;AACA1E,IAAAA,QAAQ,CAACyH,WAAT,GAAuBU,IAAvB,CAA4BmB,gBAA5B;AACD,GAHD;;AAKA,MAAMF,KAAK,GAAG,SAARA,KAAQ,CAAAG,GAAG,EAAI;AACnB,WAAOA,GAAG,GAAG,CAAN,KAAY,CAAnB;AACD,GAFD;;AAIA,sBACE,oBAAC,KAAD,CAAO,QAAP,QACG,EAAElI,aAAa,CAACG,MAAd,GAAuB,CAAzB,kBAA+B,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAE/B,KAAK,CAAC8G;AAAtB,IADlC,EAEGlF,aAAa,CAACG,MAAd,GAAuB,CAAvB,iBAA4B;AAAK,IAAA,SAAS,EAAC;AAAf,kBAC3B,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEmF;AAApB,KACG,CAACvG,SAAS,CAACC,cAAX,iBAA6B,oBAAC,WAAD;AAC5B,IAAA,WAAW,EAAEC,IADe;AAE5B,IAAA,UAAU,EAAEK,SAFgB;AAG5B,IAAA,YAAY,EAAE4D,gBAHc;AAI5B,IAAA,YAAY,EAAE3D,eAJc;AAK5B,IAAA,YAAY,EAAEa,eALc;AAM5B,IAAA,aAAa,EAAEmG,WANa;AAO5B,IAAA,cAAc,EAAEE;AAPY,IADhC,eAUE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAErI,KAAK,CAACoB,IADd;AAEE,IAAA,IAAI,EAAEpB,KAAK,CAAC2B,IAFd;AAGE,IAAA,IAAI,EAAEd,IAHR;AAIE,IAAA,SAAS,EAAEK,SAJb;AAKE,IAAA,aAAa,EAAEY,aALjB;AAME,IAAA,QAAQ,EAAEsH,cANZ;AAOE,IAAA,aAAa,EAAExH,aAPjB;AAQE,IAAA,eAAe,EAAEL,eARnB;AASE,IAAA,eAAe,EAAES,eATnB;AAUE,IAAA,eAAe,EAAEb;AAVnB,IAVF,EAsBG,CAACR,SAAS,CAACC,cAAX,iBAA6B;AAAK,IAAA,EAAE,EAAC,oBAAR;AAA6B,IAAA,SAAS,EAAEV,QAAM,CAAC,oBAAD;AAA9C,KAExB,CAACS,SAAS,CAACC,cAAX,IAA6BC,IAAI,KAAK,CAAtC,iBAA2C;AAAG,IAAA,OAAO,EAAEM;AAAZ,kBAA6B;AAAK,IAAA,SAAS,EAAEjB,QAAM,CAAC,YAAD;AAAtB,IAA7B,CAFnB,eAI5B;AAAK,IAAA,SAAS,EAAEA,QAAM,CAAC,gBAAD;AAAtB,kBACE,oBAAC,QAAD;AACE,IAAA,GAAG,EAAEkH,WADP;AAEE,IAAA,SAAS,EAAE,IAFb;AAGE,IAAA,UAAU,EAAE,KAHd;AAIE,IAAA,aAAa,EAAE,IAJjB;AAKE,IAAA,YAAY,EAAEwC,UALhB;AAME,IAAA,SAAS,EAAE,IANb;AAOE,IAAA,QAAQ,EAAE,KAPZ;AAQE,IAAA,UAAU,EAAE5D,UARd;AASE,IAAA,GAAG,EAAE,IATP;AAUE,IAAA,QAAQ,EAAE,KAVZ;AAWE,IAAA,aAAa,EAAE,IAXjB;AAYE,IAAA,eAAe,EAAE,IAZnB;AAaE,IAAA,gBAAgB,EAAC,QAbnB;AAcE,IAAA,kBAAkB,EAAE,GAdtB;AAeE,IAAA,cAAc,EAAC,oBAfjB;AAgBE,IAAA,uBAAuB,EAAE,CAAC,QAAD,EAAW,QAAX,CAhB3B;AAiBE,IAAA,UAAU,EAAEhG,KAAK,CAAC+J,UAjBpB;AAkBE,IAAA,YAAY,EAAC,uBAlBf;AAmBE,IAAA,SAAS,EAAC;AAnBZ,KAsBIP,eAAe,CAACxJ,KAAK,CAAC2B,IAAN,CAAW,CAAX,CAAD,AAAA,CAtBnB,EAyBI3B,KAAK,CAAC2B,IAAN,CAAWE,GAAX,CAAe6H,cAAf,CAzBJ,EA4BIF,eAAe,CAACxJ,KAAK,CAAC2B,IAAN,CAAW3B,KAAK,CAAC2B,IAAN,CAAWI,MAAX,GAAoB,CAA/B,CAAD,AAAA,CA5BnB,CADF,CAJ4B,EAsCtB,CAACpB,SAAS,CAACC,cAAX,IAA6BC,IAAI,KAAKK,SAAS,GAAG,CAAlD,iBAAuD;AAAG,IAAA,OAAO,EAAEc;AAAZ,kBAA6B;AAAK,IAAA,SAAS,EAAE9B,QAAM,CAAC,aAAD;AAAtB,IAA7B,CAtCjC,CAtBhC,CAD2B,CAF/B,CADF;AAuED;;IChPY8J,gBAAgB,GAAG,SAAnBA,gBAAmB,OAA4B;AAAA,MAAzBC,KAAyB,QAAzBA,KAAyB;AAAA,MAAlBnD,KAAkB,QAAlBA,KAAkB;AAAA,MAAX1F,IAAW,QAAXA,IAAW;AAC1D,sBAAO,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAE6I,KAAhB;AAAuB,IAAA,KAAK,EAAEnD,KAA9B;AAAqC,IAAA,IAAI,EAAE1F;AAA3C,IAAP;AACD,CAFM;;;;"}